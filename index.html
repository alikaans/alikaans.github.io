<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AÅŸk YolculuÄŸumuz ğŸ’•</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #fce4ec 0%, #f3e5f5 50%, #e1f5fe 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .container {
      max-width: 900px;
      width: 100%;
    }

    .canvas-wrapper {
      background: white;
      border-radius: 24px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.15);
      padding: 24px;
    }

    canvas {
      border: 4px solid #f48fb1;
      border-radius: 16px;
      box-shadow: inset 0 2px 8px rgba(0,0,0,0.1);
      background: linear-gradient(180deg, #fce4ec 0%, #f3e5f5 100%);
      display: block;
      width: 100%;
      max-width: 800px;
      height: auto;
    }

    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(4px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 20px;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes zoomIn {
      from { 
        opacity: 0;
        transform: scale(0.9);
      }
      to { 
        opacity: 1;
        transform: scale(1);
      }
    }

    .modal {
      background: linear-gradient(135deg, #fce4ec 0%, #ffffff 50%, #f3e5f5 100%);
      border-radius: 24px;
      box-shadow: 0 25px 80px rgba(0,0,0,0.3);
      max-width: 500px;
      width: 100%;
      padding: 40px;
      position: relative;
      border: 4px solid #f8bbd0;
      animation: zoomIn 0.3s ease;
    }

    .close-btn {
      position: absolute;
      top: 16px;
      right: 16px;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: #ec407a;
      color: white;
      border: none;
      font-size: 1.5rem;
      font-weight: bold;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      transition: all 0.2s;
    }

    .close-btn:hover {
      background: #d81b60;
      transform: scale(1.05);
    }

    .modal-heart {
      text-align: center;
      font-size: 3rem;
      margin-bottom: 20px;
      animation: pulse 1.5s ease infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    .modal-title {
      font-size: 2rem;
      font-weight: bold;
      text-align: center;
      color: #6a1b9a;
      margin-bottom: 20px;
    }

    .modal-image {
      margin-bottom: 24px;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 8px 24px rgba(0,0,0,0.15);
      border: 4px solid #f8bbd0;
    }

    .modal-image img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      display: block;
    }

    .modal-story {
      font-size: 1.1rem;
      color: #7b1fa2;
      text-align: center;
      line-height: 1.8;
      font-style: italic;
    }

    .modal-hearts {
      margin-top: 24px;
      display: flex;
      justify-content: center;
      gap: 8px;
      font-size: 1.2rem;
    }

    .hidden {
      display: none !important;
    }

    .victory-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(236, 64, 122, 0.95) 0%, rgba(171, 71, 188, 0.95) 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      animation: fadeIn 0.5s ease;
    }

    .victory-content {
      text-align: center;
      color: white;
      padding: 40px;
    }

    .victory-title {
      font-size: 4rem;
      font-weight: bold;
      margin-bottom: 20px;
      animation: bounce 1s ease infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }

    .victory-message {
      font-size: 2rem;
      margin-bottom: 30px;
    }

    .victory-hearts {
      font-size: 3rem;
      animation: pulse 1.5s ease infinite;
    }

    @media (max-width: 768px) {
      canvas {
        width: 100%;
      }
      
      .victory-title {
        font-size: 2.5rem;
      }
      
      .victory-message {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="canvas-wrapper">
      <canvas id="gameCanvas" width="800" height="600"></canvas>
    </div>
  </div>

  <!-- Modal -->
  <div id="modal" class="modal-overlay hidden">
    <div class="modal">
      <button class="close-btn" id="closeBtn">Ã—</button>
      <div class="modal-heart">â¤ï¸</div>
      <h2 class="modal-title" id="modalTitle"></h2>
      <div class="modal-image">
        <img id="modalImage" src="" alt="">
      </div>
      <p class="modal-story" id="modalStory"></p>
      <div class="modal-hearts">
        <span style="color: #f48fb1;">â¤ï¸</span>
        <span style="color: #ec407a;">â¤ï¸</span>
        <span style="color: #f48fb1;">â¤ï¸</span>
      </div>
    </div>
  </div>

  <!-- Victory Screen -->
  <div id="victoryScreen" class="victory-overlay hidden">
    <div class="victory-content">
      <div class="victory-title">ğŸ‰ KAZANDINIZ! ğŸ‰</div>
      <div class="victory-message">TÃ¼m anÄ±larÄ± topladÄ±nÄ±z!</div>
      <div class="victory-hearts">â¤ï¸ ğŸ’• â¤ï¸ ğŸ’• â¤ï¸</div>
    </div>
  </div>

  <script>
    // Oyun verileri
    const memories = [
      {
           id: 1,
        photo: "1.jpeg",
        story: "Hem birlikte olan ilk fotoÄŸrafÄ±mÄ±z hem de sevgili olduÄŸumuz gÃ¼nÃ¼n fotoÄŸrafÄ±. HayatÄ±mÄ±n sonuna kadar bu gÃ¼nÃ¼ hiÃ§bir zaman unutmayacaÄŸÄ±m. â¤ï¸",
        title: "Ä°lk Fotomuz"
      },
      {
        id: 2,
        photo: "2.jpeg",
        story: "Bana bu gÃ¼n kaÄŸÄ±da kalp Ã§izip vermiÅŸtin. O kalp hala benimle birlikte arada telefonumun arkasÄ±ndan Ã§Ä±karÄ±p bakÄ±yorum ve ne kadar ÅŸanslÄ± olduÄŸum ve yaÅŸadÄ±ÄŸÄ±mÄ±z her ÅŸey tekrar gÃ¶zlerimin Ã¶nÃ¼nde canlanÄ±yor. â¤ï¸",
        title: "KÃ¼tÃ¼phanede KaÄŸÄ±t Kalp"
      },
      {
        id: 3,
        photo: "3.jpeg",
        story: "Bu gÃ¼n sana ilk kez bi Ã§iÃ§ek koparÄ±p vermiÅŸtim Ã§ok kitabÄ±n arasÄ±na sÄ±kÄ±ÅŸtÄ±rÄ±p kurutucam demiÅŸtin. O gÃ¼lÃ¼ koparÄ±p sana verdiÄŸimde ilk ve son olmayacaÄŸÄ±nÄ± anlamÄ±ÅŸtÄ±m. â¤ï¸",
        title: "Ä°lk Ã‡iÃ§ek?"
      },
      {
        id: 4,
        photo: "4.jpeg",
        story: "Benim bu hayatÄ±m boyunca gittiÄŸim ilk konserdi. Ä°lk konserime seninle birlikte gittiÄŸim iÃ§in Ã§ok mutluyum. â¤ï¸",
        title: "Ä°lk Konserimiz"
      },
      {
        id: 5,
        photo: "5.jpeg",
        story: "Bu gÃ¼n ordaki direklere maymun gibi tÄ±rmanmÄ±ÅŸtÄ±m. Ä°ÅŸte o zaman gerÃ§ekten senin yanÄ±nda kendim olabildiÄŸimi utanmadÄ±ÄŸÄ±mÄ± farkettim. â¤ï¸",
        title: "Maymunluk"
      },
      {
        id: 6,
        photo: "6.jpeg",
        story: "Bu gÃ¼n birlikte gezinmeye Ã§Ä±kmÄ±ÅŸtÄ±k. Okuldan kaÃ§mÄ±ÅŸtÄ±n ve birlikte yol kenarÄ±ndan Ã§ilek almÄ±ÅŸtÄ±k. StatÃ¼nÃ¼n yanÄ±ndan geÃ§erken papatyalarÄ± gÃ¶rdÃ¼n ve kafama takmak istedin. Harika bi gÃ¼n geÃ§irmiÅŸtim seninle birlikte. â¤ï¸",
        title: "Papatya Kafa"
      },
      {
        id: 7,
        photo: "7.jpeg",
        story: "Ben genÃ§tek iÃ§in Ankaraya gitmiÅŸtim 3-4 gÃ¼n gÃ¶rÃ¼ÅŸememiÅŸtik ve gÃ¶rÃ¼ÅŸemediÄŸimiz 3-4 gÃ¼n o ana kadar buluÅŸamadÄ±ÄŸÄ±mÄ±z en uzun sÃ¼reydi. DÃ¶ndÃ¼ÄŸÃ¼mde saÃ§larÄ±nÄ± dÃ¼zleÅŸtirmiÅŸtin ve laurende oturmuÅŸtuk. â¤ï¸",
        title: "DÃ¼z SaÃ§ Ve Uzun(!) SÃ¼reli GÃ¶rÃ¼ÅŸememe"
      },
      {
        id: 8,
        photo: "8.jpeg",
        story: "Birlikte attÄ±ÄŸÄ±mÄ±z ilk story buydu. The Smiths'i eklemiÅŸtik ÅŸarkÄ± olarak.",
        title: "Ä°lk Story"
      },
      {
        id: 9,
        photo: "9.jpeg",
        story: "ArkadaÅŸlarÄ±nÄ±n tenis mÃ¼sabakasÄ±na gitmiÅŸtik birlikte. Bu gÃ¼n arkadaÅŸlarÄ±nla tanÄ±ÅŸtÄ±ÄŸÄ±m ilk gÃ¼ndÃ¼. (galiba emin deÄŸilim mlsf...)",
        title: "ArkadaÅŸlarÄ±n"
      },
      {
        id: 10,
        photo: "10.jpeg",
        story: "Bu gÃ¼n benim kaÅŸlarÄ±mÄ± almÄ±ÅŸtÄ±n. Ã‡OK ACIMIÅTI.",
        title: "KaÅŸ BakÄ±mÄ±..."
      },
      {
        id: 11,
        photo: "11.jpeg",
        story: "Sana ilk kez bi Ã§iÃ§ek buketi almÄ±ÅŸtÄ±m. Ã‡ok gÃ¼zeldin o mavi elbisende prensesim.",
        title: "Mezuniyetin"
      },
      {
        id: 12,
        photo: "12.jpeg",
        story: "Birlikte dÃ¼nyanÄ±n en ucube tepesine tÄ±rmanmÄ±ÅŸtÄ±k Ã§ok eÄŸlenmiÅŸtim bÃ¶yle maymun maymun Ã¶nÃ¼nden koÅŸtururken.",
        title: "TÄ±rmanÄ±ÅŸ"
      },
      {
        id: 13,
        photo: "13.jpeg",
        story: "Elifsu Fatih Sen ve Ben. O kolonya tatlÄ± gini almÄ±ÅŸtÄ±nÄ±z inanilmaz kÃ¶tÃ¼ydÃ¼ ama geÃ§irdiÄŸimiz vaikt harikaydÄ±.",
        title: "Kolonya"
      },
      {
        id: 14,
        photo: "14.jpeg",
        story: "YKS sonrasÄ± birlikte ilk kez dÄ±ÅŸarÄ± Ã§Ä±kmÄ±ÅŸtÄ±k. Sonunda sÃ¼rekli kÃ¼tÃ¼phanede buluÅŸmak zorunda deÄŸildik...",
        title: "After YKS"
      },
      {
        id: 15,
        photo: "15.jpeg",
        story: "KÄ±zlarla birlikte dÄ±ÅŸarÄ±ya Ã§Ä±kmÄ±ÅŸtÄ±nÄ±z oturuyodunuz. YanÄ±nÄ±za sonra ben gelmiÅŸtim birlikte oturmuÅŸtuk. Benim favori fotoÄŸraflarÄ±mÄ±zdan birisi bu.",
        title: "AÅŸk Dolu BakÄ±yon HE"
      },
      {
        id: 16,
        photo: "16.jpeg",
        story: "Bu gÃ¼n gelebildiÄŸin iÃ§in o kadar mutluyum ki gerÃ§ekten bÃ¶yle gelebileceÄŸini sÃ¶ylediÄŸinde sÄ±rÄ±tmaktan yÃ¼zÃ¼m aÄŸrÄ±mÄ±ÅŸtÄ±. KeÅŸke havuza birlikte atlayabilseydik.",
        title: "Benim Mezuniyetim"
      },
      {
        id: 17,
        photo: "17.jpeg",
        story: "Bu gÃ¼n birlikte ilk kez Ä°zmire gitmiÅŸtik. Elindeki gÃ¼lÃ¼ bi Ã§ingen abladan almÄ±ÅŸtÄ±k ve bize bi de el falÄ± bakmÄ±ÅŸtÄ±. HiÃ§bi zaman ayrÄ±lmÄ±caz bi de ikizlerin olcak...",
        title: "Ä°zmir"
      },
      {
        id: 18,
        photo: "18.jpeg",
        story: "Kendi kafamda harika bi ÅŸekilde planlamÄ±ÅŸtÄ±m ama o kadar da iyi uygulayamadÄ±m malesef bu gÃ¼nÃ¼. Ama Ã§iÃ§eÄŸinle birlikte o kadar gÃ¼zeldin ki hiÃ§bi ÅŸekilde o andan Ã§Ä±kmak istemedim.",
        title: "AkÅŸam YemeÄŸi"
      },
      {
        id: 19,
        photo: "19.jpeg",
        story: "Sen Ankaraya gitmeden Ã¶nce Ã§ekildiÄŸimiz son fotoÄŸraf buydu...",
        title: "1. Sezon KAPANIÅ"
      },
      {
        id: 20,
        photo: "20.jpeg",
        story: "Ä°lk kez Ankarada birlikte Ã§ekildiÄŸimiz fotoÄŸraf. Trenden indiÄŸim gibi Ã§ekinmiÅŸtik. O kadar Ã¶zlemiÅŸtim ki seni.",
        title: "2. Sezon BAÅLANGIÃ‡"
      },
      {
        id: 21,
        photo: "21.jpeg",
        story: "Ankaraya 2. ziyaretim. Kombinlerimizi Ã§ekmeye Ã§alÄ±ÅŸÄ±yoduk.",
        title: "Kombini Ã‡ekme Ã‡abalarÄ±"
      },
      {
        id: 22,
        photo: "22.jpeg",
        story: "Bu sefer Manisada buluÅŸmuÅŸtuk. AyaÄŸÄ±mÄ± aÄŸzÄ±na sokmayÄ± deniyodum...",
        title: "Ayak?"
      },
      {
        id: 23,
        photo: "23.jpeg",
        story: "Yine Manisada buluÅŸtuk. Burger King sÃ¶ylemiÅŸtik bu fotoyu bonibon yiyen fare gifine Ã§ok benzetmiÅŸtik.",
        title: "Burger Kral"
      },
      {
        id: 24,
        photo: "24.jpeg",
        story: "Ablan sana Ã§iÃ§ekli lego almÄ±ÅŸtÄ± hediye olarak. AVM'de oturup bunu yapmÄ±ÅŸtÄ±k sonrasÄ±nda da otelde ilk kez birlikte kalÄ±p sarÄ±lÄ±p uyumuÅŸtuk.",
        title: "Lego Ã‡iÃ§ek Ve Uyku"
      },
      {
        id: 25,
        photo: "25.jpeg",
        story: "HARÄ°KA BÄ° DENEYÄ°MDÄ° BÃ–YLE TUM SURATIM RUJDU MÃœKEMMELDÄ° TEKRARLAYALIM.",
        title: "Ã–pÃ¼cÃ¼klÃ¼"
      },
      {
        id: 26,
        photo: "26.jpeg",
        story: "Galerimdeki en son birlikte Ã§ekildiÄŸimiz fotoÄŸraf bu. Ä°zmir metroda Ã§ekilmiÅŸtik Berkelerin evine gitmiÅŸtik yine mÃ¼kemmel bi gÃ¼ndÃ¼.",
        title: "Son Fotomuz"
      }
    ];

    // Oyun deÄŸiÅŸkenleri
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const modal = document.getElementById('modal');
    const closeBtn = document.getElementById('closeBtn');
    const modalTitle = document.getElementById('modalTitle');
    const modalImage = document.getElementById('modalImage');
    const modalStory = document.getElementById('modalStory');
    const victoryScreen = document.getElementById('victoryScreen');

    let isPaused = false;
    let isCollecting = false;
    let score = 0;
    let collectedEnvelopes = [];
    let gameWon = false;

    const camera = { x: 0, y: 0 };
    const WORLD_WIDTH = 8000; // 6000'den 8000'e Ã§Ä±karÄ±ldÄ±

    const player = {
      x: 100,
      y: 300,
      width: 30,
      height: 40,
      velocityY: 0,
      velocityX: 0,
      isJumping: false,
      walkFrame: 0,
      walkTimer: 0,
      direction: 1
    };

    const gravity = 0.6;
    const jumpStrength = -13;
    const moveSpeed = 5;
    const friction = 0.85;
    const keys = {};

    // DÃ¼zenli platformlar oluÅŸtur
    const platforms = [];
    const groundY = 520;
    
    // Zemin platformu
    platforms.push({
      x: 0,
      y: groundY,
      width: WORLD_WIDTH,
      height: 80
    });

    // Atlama platformlarÄ± - dÃ¼zenli aralÄ±klarla (50 platform)
    for (let i = 0; i < 50; i++) {
      const x = 200 + i * 200;
      const baseY = 400;
      const variation = Math.sin(i * 0.5) * 80;
      
      platforms.push({
        x: x,
        y: baseY + variation,
        width: 120,
        height: 15
      });
    }

    // Zarflar - platformlarÄ±n Ã¼zerine yerleÅŸtir
    const envelopes = memories.map((memory, index) => {
      const x = 300 + index * 280;
      let y = groundY - 80; // VarsayÄ±lan olarak zeminin Ã¼stÃ¼
      
      // En yakÄ±n platformu bul
      for (let platform of platforms) {
        if (x >= platform.x && x <= platform.x + platform.width) {
          if (platform.y < groundY) {
            y = platform.y - 60;
            break;
          }
        }
      }
      
      return {
        id: memory.id,
        x: x,
        y: y,
        width: 40,
        height: 30,
        collected: false,
        float: index * 0.5,
        memory: memory
      };
    });

    // Kalpler
    const hearts = [];
    for (let i = 0; i < 60; i++) { // 40'tan 60'a Ã§Ä±karÄ±ldÄ±
      hearts.push({
        x: Math.random() * WORLD_WIDTH,
        y: Math.random() * 400,
        size: Math.random() * 15 + 10,
        speed: Math.random() * 0.5 + 0.2,
        opacity: Math.random() * 0.3 + 0.1
      });
    }

    // Event listeners
    window.addEventListener('keydown', (e) => {
      keys[e.key] = true;
      keys[e.key.toLowerCase()] = true;
      
      // BoÅŸluk, W, w, ArrowUp ile zÄ±plama
      if ((e.key === ' ' || e.key === 'w' || e.key === 'W' || e.key === 'ArrowUp') && !player.isJumping && !isPaused) {
        player.velocityY = jumpStrength;
        player.isJumping = true;
        e.preventDefault(); // Sayfa kaydÄ±rmasÄ±nÄ± Ã¶nle
      }
    });

    window.addEventListener('keyup', (e) => {
      keys[e.key] = false;
      keys[e.key.toLowerCase()] = false;
    });

    closeBtn.addEventListener('click', () => {
      modal.classList.add('hidden');
      isPaused = false;
      isCollecting = false;
      
      // TÃ¼m anÄ±lar toplandÄ±ysa kazanma ekranÄ±nÄ± gÃ¶ster
      if (collectedEnvelopes.length === memories.length && !gameWon) {
        gameWon = true;
        setTimeout(() => {
          victoryScreen.classList.remove('hidden');
        }, 500);
      }
    });

    // Modal gÃ¶sterme fonksiyonu
    function showStory(memory) {
      modalTitle.textContent = memory.title;
      modalImage.src = memory.photo;
      modalImage.alt = memory.title;
      modalStory.textContent = '"' + memory.story + '"';
      modal.classList.remove('hidden');
      isPaused = true;
    }

    // Oyun dÃ¶ngÃ¼sÃ¼
    function gameLoop() {
      if (isPaused || gameWon) {
        requestAnimationFrame(gameLoop);
        return;
      }

      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Arka plan
      const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
      gradient.addColorStop(0, '#FFE5F0');
      gradient.addColorStop(0.5, '#E8D5F2');
      gradient.addColorStop(1, '#D5E8F7');
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // Hareket
      if (keys['ArrowLeft'] || keys['a']) {
        player.velocityX = -moveSpeed;
        player.direction = -1;
        player.walkTimer = 0.2;
      } else if (keys['ArrowRight'] || keys['d']) {
        player.velocityX = moveSpeed;
        player.direction = 1;
        player.walkTimer = 0.2;
      }

      player.velocityY += gravity;
      player.x += player.velocityX;
      player.y += player.velocityY;
      player.velocityX *= friction;

      if (player.walkTimer > 0) {
        player.walkFrame += 0.3;
        player.walkTimer -= 0.016;
      }

      // Platform Ã§arpÄ±ÅŸmasÄ±
      platforms.forEach(platform => {
        if (player.velocityY > 0 &&
            player.y + player.height < platform.y + 10 &&
            player.y + player.height + player.velocityY >= platform.y &&
            player.x + player.width > platform.x &&
            player.x < platform.x + platform.width) {
          player.y = platform.y - player.height;
          player.velocityY = 0;
          player.isJumping = false;
        }
      });

      // DÃ¼nya sÄ±nÄ±rlarÄ±
      if (player.x < 0) player.x = 0;
      if (player.x > WORLD_WIDTH - player.width) player.x = WORLD_WIDTH - player.width;
      if (player.y > canvas.height) {
        player.y = 100;
        player.x = 100;
        player.velocityY = 0;
      }

      // Zarf toplama
      envelopes.forEach(envelope => {
        if (!envelope.collected &&
            player.x < envelope.x + envelope.width &&
            player.x + player.width > envelope.x &&
            player.y < envelope.y + envelope.height &&
            player.y + player.height > envelope.y &&
            !isCollecting) {
          
          // Daha Ã¶nce toplanmamÄ±ÅŸsa
          if (!collectedEnvelopes.includes(envelope.id)) {
            isCollecting = true;
            envelope.collected = true;
            collectedEnvelopes.push(envelope.id);
            score += 100;
            showStory(envelope.memory);
          }
        }
      });

      // Kamera
      camera.x = player.x - canvas.width / 2 + player.width / 2;
      camera.x = Math.max(0, Math.min(camera.x, WORLD_WIDTH - canvas.width));

      ctx.save();
      ctx.translate(-camera.x, -camera.y);

      // Kalpler Ã§iz
      hearts.forEach(heart => {
        heart.y += heart.speed;
        if (heart.y > 600) heart.y = -20;
        
        ctx.save();
        ctx.globalAlpha = heart.opacity;
        ctx.fillStyle = '#FF69B4';
        ctx.font = `${heart.size}px Arial`;
        ctx.fillText('â¤ï¸', heart.x, heart.y);
        ctx.restore();
      });

      // PlatformlarÄ± Ã§iz
      platforms.forEach(platform => {
        const platformGradient = ctx.createLinearGradient(0, platform.y, 0, platform.y + platform.height);
        platformGradient.addColorStop(0, '#FF69B4');
        platformGradient.addColorStop(1, '#FF1493');
        ctx.fillStyle = platformGradient;
        ctx.fillRect(platform.x, platform.y, platform.width, platform.height);
        
        ctx.strokeStyle = '#C71585';
        ctx.lineWidth = 2;
        ctx.strokeRect(platform.x, platform.y, platform.width, platform.height);
      });

      // ZarflarÄ± Ã§iz
      envelopes.forEach(envelope => {
        envelope.float += 0.05;
        const floatY = envelope.y + Math.sin(envelope.float) * 5;
        
        if (!envelope.collected) {
          ctx.save();
          ctx.shadowColor = 'rgba(255, 105, 180, 0.5)';
          ctx.shadowBlur = 15;
          
          ctx.fillStyle = '#FFB6C1';
          ctx.fillRect(envelope.x, floatY, envelope.width, envelope.height);
          
          ctx.fillStyle = '#FF69B4';
          ctx.beginPath();
          ctx.moveTo(envelope.x, floatY);
          ctx.lineTo(envelope.x + envelope.width / 2, floatY + envelope.height / 2);
          ctx.lineTo(envelope.x + envelope.width, floatY);
          ctx.fill();
          
          ctx.strokeStyle = '#FF1493';
          ctx.lineWidth = 2;
          ctx.strokeRect(envelope.x, floatY, envelope.width, envelope.height);
          
          ctx.fillStyle = '#8B4789';
          ctx.font = 'bold 20px Arial';
          ctx.textAlign = 'center';
          ctx.fillText('ğŸ’Œ', envelope.x + envelope.width / 2, floatY - 10);
          
          ctx.restore();
        }
      });

      // Oyuncuyu Ã§iz
      ctx.save();
      if (player.direction === -1) {
        ctx.translate(player.x + player.width / 2, 0);
        ctx.scale(-1, 1);
        ctx.translate(-(player.x + player.width / 2), 0);
      }
      
      // KÄ±vÄ±rcÄ±k saÃ§lar (arkada)
      ctx.fillStyle = '#8B4513';
      ctx.beginPath();
      // Sol kÄ±vÄ±rcÄ±klar
      ctx.arc(player.x + player.width / 2 - 10, player.y - 2, 5, 0, Math.PI * 2);
      ctx.arc(player.x + player.width / 2 - 8, player.y - 6, 4, 0, Math.PI * 2);
      ctx.arc(player.x + player.width / 2 - 5, player.y - 8, 4, 0, Math.PI * 2);
      ctx.arc(player.x + player.width / 2 - 2, player.y - 9, 3, 0, Math.PI * 2);
      // Orta kÄ±vÄ±rcÄ±klar
      ctx.arc(player.x + player.width / 2, player.y - 10, 4, 0, Math.PI * 2);
      ctx.arc(player.x + player.width / 2 + 2, player.y - 9, 3, 0, Math.PI * 2);
      // SaÄŸ kÄ±vÄ±rcÄ±klar
      ctx.arc(player.x + player.width / 2 + 5, player.y - 8, 4, 0, Math.PI * 2);
      ctx.arc(player.x + player.width / 2 + 8, player.y - 6, 4, 0, Math.PI * 2);
      ctx.arc(player.x + player.width / 2 + 10, player.y - 2, 5, 0, Math.PI * 2);
      ctx.fill();
      
      // Kafa
      ctx.fillStyle = '#FFB6C1';
      ctx.beginPath();
      ctx.arc(player.x + player.width / 2, player.y + 5, 12, 0, Math.PI * 2);
      ctx.fill();
      
      ctx.strokeStyle = '#FF69B4';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.arc(player.x + player.width / 2, player.y + 5, 12, 0, Math.PI * 2);
      ctx.stroke();
      
      // KahkÃ¼l (Ã¶nde) - minik kÄ±vÄ±rcÄ±k saÃ§ telleri
      ctx.fillStyle = '#8B4513';
      ctx.beginPath();
      // Sol kahkÃ¼l
      ctx.arc(player.x + player.width / 2 - 6, player.y - 4, 3, 0, Math.PI * 2);
      ctx.arc(player.x + player.width / 2 - 4, player.y - 2, 2.5, 0, Math.PI * 2);
      // Orta kahkÃ¼l
      ctx.arc(player.x + player.width / 2 - 1, player.y - 5, 2.5, 0, Math.PI * 2);
      ctx.arc(player.x + player.width / 2 + 1, player.y - 5, 2.5, 0, Math.PI * 2);
      // SaÄŸ kahkÃ¼l
      ctx.arc(player.x + player.width / 2 + 4, player.y - 2, 2.5, 0, Math.PI * 2);
      ctx.arc(player.x + player.width / 2 + 6, player.y - 4, 3, 0, Math.PI * 2);
      ctx.fill();
      
      // GÃ¶zler
      const eyeHeight = player.isJumping ? 1 : 3;
      ctx.fillStyle = '#000';
      ctx.beginPath();
      ctx.ellipse(player.x + player.width / 2 - 4, player.y + 8, 2, eyeHeight, 0, 0, Math.PI * 2);
      ctx.ellipse(player.x + player.width / 2 + 4, player.y + 8, 2, eyeHeight, 0, 0, Math.PI * 2);
      ctx.fill();
      
      // GÃ¼lÃ¼mseme
      ctx.strokeStyle = '#000';
      ctx.lineWidth = 1.5;
      ctx.beginPath();
      ctx.arc(player.x + player.width / 2, player.y + 12, 5, 0.2, Math.PI - 0.2);
      ctx.stroke();
      
      // VÃ¼cut
      const bodyGradient = ctx.createLinearGradient(0, player.y + 15, 0, player.y + player.height);
      bodyGradient.addColorStop(0, '#FF1493');
      bodyGradient.addColorStop(1, '#C71585');
      ctx.fillStyle = bodyGradient;
      ctx.fillRect(player.x + 3, player.y + 18, player.width - 6, player.height - 20);
      
      // Bacaklar
      ctx.fillStyle = '#FF1493';
      const legOffset = player.walkTimer > 0 ? Math.sin(player.walkFrame) * 3 : 0;
      ctx.fillRect(player.x + 6, player.y + player.height - 10 + legOffset, 8, 10);
      ctx.fillRect(player.x + player.width - 14, player.y + player.height - 10 - legOffset, 8, 10);
      
      // Kollar
      ctx.fillStyle = '#FFB6C1';
      ctx.fillRect(player.x, player.y + 22, 6, 12);
      ctx.fillRect(player.x + player.width - 6, player.y + 22, 6, 12);
      
      ctx.restore();
      ctx.restore();

      // UI - Ä°lerleme Ã§ubuÄŸu
      const progress = collectedEnvelopes.length / memories.length;
      const barWidth = 300;
      const barHeight = 25;
      const barX = 250;
      const barY = 20;
      
      ctx.fillStyle = 'rgba(139, 71, 137, 0.3)';
      ctx.fillRect(barX, barY, barWidth, barHeight);
      
      const progressGradient = ctx.createLinearGradient(barX, 0, barX + barWidth * progress, 0);
      progressGradient.addColorStop(0, '#FF69B4');
      progressGradient.addColorStop(1, '#FF1493');
      ctx.fillStyle = progressGradient;
      ctx.fillRect(barX, barY, barWidth * progress, barHeight);
      
      ctx.strokeStyle = '#8B4789';
      ctx.lineWidth = 3;
      ctx.strokeRect(barX, barY, barWidth, barHeight);
      
      ctx.fillStyle = '#8B4789';
      ctx.font = 'bold 16px "Segoe UI", sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(`${collectedEnvelopes.length}/${memories.length} AnÄ±`, barX + barWidth / 2, barY + 18);

      // Skor
      ctx.fillStyle = '#8B4789';
      ctx.font = 'bold 22px "Segoe UI", sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText(`ğŸ’• ${score}`, 20, 35);
      
      // Konum
      ctx.fillStyle = '#8B4789';
      ctx.font = 'bold 16px "Segoe UI", sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText(`${Math.floor(player.x)}m`, 780, 35);

      requestAnimationFrame(gameLoop);
    }

    // Oyunu baÅŸlat
    gameLoop();
  </script>
</body>
</html>